# Ralph Note — Project Instructions

## Project Overview

Ralph Note is an iterative knowledge extraction system. AI agents explore Markdown documents in `docs/` and build a database of atomic Zettelkasten-style notes in `notes/`.

## Directory Structure

| Path | Access | Purpose |
|------|--------|---------|
| `docs/` | READ ONLY | Source documents to analyze |
| `notes/` | WRITE | Atomic notes (agents write here; files are named by ID) |
| `notes/questions/` | WRITE | Research question files (agents write here; files are named by ID) |
| `_index.md` | READ ONLY | Research index — updated by `scripts/update_index.py`, never directly |
| `research-questions.md` | READ ONLY | Human-provided research objectives |
| `PROGRESS.md` | WRITE (orchestrator) | Loop state and iteration history |
| `scripts/` | DO NOT MODIFY | Index update script and utilities |

## Security Rules

1. Agents may ONLY create or edit files in `notes/`, `notes/questions/`, and `PROGRESS.md`
2. `_index.md` is updated by calling `scripts/update_index.py` — never edit it directly
3. All note and question IDs are generated by the script — always use `id: PLACEHOLDER`
4. All `created` timestamps are generated by the script — always use `created: PLACEHOLDER`
5. After creating each file, agents MUST register it by running: `uv run scripts/update_index.py <filepath>` — the script will rename the file to `{ID}.md`
6. Notes go in `notes/`, questions go in `notes/questions/`

## Note Format

All files in `notes/` must have YAML frontmatter with either `type: note` or `type: question`. See the agent definitions for full format specifications:

- **`ralph-doer`** — note format (`type: note`)
- **`ralph-asker`** — question format (`type: question`)
